
> hr-command-center@0.1.0 test
> jest

FAIL __tests__/performance/bundle-performance.test.ts
  ‚óè Bundle Performance ‚Ä∫ Bundle Size Budgets ‚Ä∫ should keep main bundle under 150KB

    expect(received).toBeLessThan(expected)

    Expected: < 150
    Received:   5895.09375

      38 |         const sizeKB = stats.size / 1024;
      39 |
    > 40 |         expect(sizeKB).toBeLessThan(150);
         |                        ^
      41 |       });
      42 |     });
      43 |

      at toBeLessThan (__tests__/performance/bundle-performance.test.ts:40:24)
          at Array.forEach (<anonymous>)
      at Object.forEach (__tests__/performance/bundle-performance.test.ts:36:18)

  ‚óè Bundle Performance ‚Ä∫ Bundle Size Budgets ‚Ä∫ should keep framework bundle under 200KB

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      47 |       );
      48 |
    > 49 |       expect(frameworkChunks.length).toBeGreaterThan(0);
         |                                      ^
      50 |
      51 |       frameworkChunks.forEach(chunk => {
      52 |         const stats = fs.statSync(path.join(chunksPath, chunk));

      at Object.toBeGreaterThan (__tests__/performance/bundle-performance.test.ts:49:38)

  ‚óè Bundle Performance ‚Ä∫ Lazy Loading Verification ‚Ä∫ should create separate chunks for lazy loaded panels

    expect(received).toBeGreaterThan(expected)

    Expected: > 15
    Received:   13

      72 |       // After lazy loading implementation, we should have multiple chunks
      73 |       // (exact chunk numbers vary by build, but should be >15 with lazy loading)
    > 74 |       expect(allChunks.length).toBeGreaterThan(15);
         |                                ^
      75 |     });
      76 |
      77 |     it('should not include recharts in any bundle (removed dependency)', () => {

      at Object.toBeGreaterThan (__tests__/performance/bundle-performance.test.ts:74:32)

FAIL __tests__/lib/monitoring.test.ts
  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should initialize without errors

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should initialize without errors

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should not throw when PerformanceObserver is not available

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should not throw when PerformanceObserver is not available

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should setup error event listeners

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should setup error event listeners

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should log metrics in development mode

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should log metrics in development mode

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should send metrics to API in production mode

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should send metrics to API in production mode

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should handle fetch errors silently

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should handle fetch errors silently

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ Error Tracking ‚Ä∫ should capture unhandled errors

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ Error Tracking ‚Ä∫ should capture unhandled errors

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ Error Tracking ‚Ä∫ should capture unhandled promise rejections

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ Error Tracking ‚Ä∫ should capture unhandled promise rejections

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

FAIL lib/analytics/__tests__/performance-calculator.test.ts
  ‚óè Performance Calculator ‚Ä∫ calculateDepartmentStats ‚Ä∫ should calculate average compensation across department

    expect(received).toBeCloseTo(expected, precision)

    Expected: 0.3
    Received: 0.24444444444444446

    Expected precision:    1
    Expected difference: < 0.05
    Received difference:   0.055555555555555525

      124 |       expect(stats.avgCompensation).toBe(100000);
      125 |       expect(stats.avgTenure).toBe((2 + 5 + 3) / 3);
    > 126 |       expect(stats.promotionRate).toBeCloseTo(0.3, 1);
          |                                   ^
      127 |     });
      128 |
      129 |     it('should handle empty employee list', () => {

      at Object.toBeCloseTo (lib/analytics/__tests__/performance-calculator.test.ts:126:35)

  ‚óè Performance Calculator ‚Ä∫ calculateBatchRatings ‚Ä∫ should calculate ratings for all employees grouped by department

    expect(received).toBeGreaterThan(expected)

    Expected: > 3
    Received:   3

      154 |       const eng1 = ratings.get('1')!;
      155 |       const eng2 = ratings.get('2')!;
    > 156 |       expect(eng1.ai_performance_score).toBeGreaterThan(eng2.ai_performance_score);
          |                                         ^
      157 |     });
      158 |   });
      159 |

      at Object.toBeGreaterThan (lib/analytics/__tests__/performance-calculator.test.ts:156:41)

FAIL lib/workflows/__tests__/detection.test.ts
  ‚óè Console

    console.log
      
      Workflow Detection Accuracy: 100.00%

      at Object.log (lib/workflows/__tests__/detection.test.ts:427:15)

  ‚óè Workflow Detection ‚Ä∫ HIRING workflow detection ‚Ä∫ should detect headcount planning queries

    expect(received).toBe(expected) // Object.is equality

    Expected: "hiring"
    Received: "analytics"

      82 |         const context = buildDetectionContext(message);
      83 |         const result = detectWorkflow(context);
    > 84 |         expect(result.workflowId).toBe('hiring');
         |                                   ^
      85 |         expect(result.confidence).toBeGreaterThanOrEqual(75);
      86 |       });
      87 |     });

      at toBe (lib/workflows/__tests__/detection.test.ts:84:35)
          at Array.forEach (<anonymous>)
      at Object.forEach (lib/workflows/__tests__/detection.test.ts:81:17)

  ‚óè Workflow Detection ‚Ä∫ ANALYTICS workflow detection ‚Ä∫ should detect headcount queries

    expect(received).toBe(expected) // Object.is equality

    Expected: "analytics"
    Received: "general"

      174 |         const context = buildDetectionContext(message);
      175 |         const result = detectWorkflow(context);
    > 176 |         expect(result.workflowId).toBe('analytics');
          |                                   ^
      177 |         expect(result.confidence).toBeGreaterThanOrEqual(75);
      178 |       });
      179 |     });

      at toBe (lib/workflows/__tests__/detection.test.ts:176:35)
          at Array.forEach (<anonymous>)
      at Object.forEach (lib/workflows/__tests__/detection.test.ts:173:17)

  ‚óè Workflow Detection ‚Ä∫ ANALYTICS workflow detection ‚Ä∫ should detect turnover queries

    expect(received).toBe(expected) // Object.is equality

    Expected: "analytics"
    Received: "offboarding"

      190 |         const context = buildDetectionContext(message);
      191 |         const result = detectWorkflow(context);
    > 192 |         expect(result.workflowId).toBe('analytics');
          |                                   ^
      193 |         expect(result.confidence).toBeGreaterThanOrEqual(75);
      194 |       });
      195 |     });

      at toBe (lib/workflows/__tests__/detection.test.ts:192:35)
          at Array.forEach (<anonymous>)
      at Object.forEach (lib/workflows/__tests__/detection.test.ts:189:17)

  ‚óè Workflow Detection ‚Ä∫ ANALYTICS workflow detection ‚Ä∫ should detect diversity queries

    expect(received).toBe(expected) // Object.is equality

    Expected: "analytics"
    Received: "general"

      206 |         const context = buildDetectionContext(message);
      207 |         const result = detectWorkflow(context);
    > 208 |         expect(result.workflowId).toBe('analytics');
          |                                   ^
      209 |         expect(result.confidence).toBeGreaterThanOrEqual(75);
      210 |       });
      211 |     });

      at toBe (lib/workflows/__tests__/detection.test.ts:208:35)
          at Array.forEach (<anonymous>)
      at Object.forEach (lib/workflows/__tests__/detection.test.ts:205:17)

  ‚óè Workflow Detection ‚Ä∫ Conversation continuity boost ‚Ä∫ should boost current workflow when conversation continues

    expect(received).toBeGreaterThan(expected)

    Expected: > 100
    Received:   100

      327 |
      328 |       expect(resultWith.workflowId).toBe('hiring');
    > 329 |       expect(resultWith.confidence).toBeGreaterThan(resultWithout.confidence);
          |                                     ^
      330 |     });
      331 |   });
      332 |

      at Object.toBeGreaterThan (lib/workflows/__tests__/detection.test.ts:329:37)

  ‚óè Workflow Detection ‚Ä∫ Helper detection functions ‚Ä∫ detectEmployeeMention ‚Ä∫ should detect employee names

    expect(received).toBe(expected) // Object.is equality

    Expected: "Sarah Johnson"
    Received: "About Sarah"

      339 |       it('should detect employee names', () => {
      340 |         expect(detectEmployeeMention('Create a review for John Smith')).toBe('John Smith');
    > 341 |         expect(detectEmployeeMention('About Sarah Johnson')).toBe('Sarah Johnson');
          |                                                              ^
      342 |         expect(detectEmployeeMention("John's performance review")).toBe('John');
      343 |       });
      344 |

      at Object.toBe (lib/workflows/__tests__/detection.test.ts:341:62)

FAIL __tests__/components/custom/chat/ChatHeader.test.tsx
  ‚óè Console

    console.error
      Warning: React does not recognize the `whileHover` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `whilehover` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at button
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/ChatHeader.test.tsx:13:16)
          at div
          at conversationId (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatHeader.tsx:34:3)

      30 |       const conversationId = 'conv_12345_abc';
      31 |
    > 32 |       render(<ChatHeader conversationId={conversationId} onReset={mockOnReset} />);
         |             ^
      33 |
      34 |       expect(screen.getByText(conversationId)).toBeInTheDocument();
      35 |     });

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (../node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (../node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (../node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (../node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (../node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (../node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (../node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatHeader.test.tsx:32:13)

    console.error
      Warning: React does not recognize the `whileTap` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `whiletap` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at button
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/ChatHeader.test.tsx:13:16)
          at div
          at conversationId (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatHeader.tsx:34:3)

      30 |       const conversationId = 'conv_12345_abc';
      31 |
    > 32 |       render(<ChatHeader conversationId={conversationId} onReset={mockOnReset} />);
         |             ^
      33 |
      34 |       expect(screen.getByText(conversationId)).toBeInTheDocument();
      35 |     });

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (../node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (../node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (../node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (../node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (../node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (../node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (../node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatHeader.test.tsx:32:13)

  ‚óè ChatHeader ‚Ä∫ Edge cases ‚Ä∫ should handle conversation ID with newlines

    TestingLibraryElementError: Unable to find an element with the text: conv_123 abc (normalized from 'conv_123
    abc'). This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"text-xs text-secondary/50 font-mono"[39m
          [36m>[39m
            [0mconv_123
    abc[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Start a new chat"[39m
            [33mclass[39m=[32m"flex items-center gap-2 px-3 py-1.5 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-sm font-medium transition-premium"[39m
            [33mwhilehover[39m=[32m"[object Object]"[39m
            [33mwhiletap[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-rotate-ccw w-4 h-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 3v5h5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<span>[39m
              [0mReset chat[0m
            [36m</span>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      261 |       render(<ChatHeader conversationId={idWithNewline} onReset={mockOnReset} />);
      262 |
    > 263 |       expect(screen.getByText(idWithNewline)).toBeInTheDocument();
          |                     ^
      264 |     });
      265 |   });
      266 |

      at Object.getElementError (../node_modules/@testing-library/dom/dist/config.js:37:19)
      at ../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at ../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at ../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/custom/chat/ChatHeader.test.tsx:263:21)

FAIL __tests__/components/custom/chat/MessageActions.test.tsx
  ‚óè Console

    console.error
      Warning: An update to MessageActions inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at message (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/MessageActions.tsx:43:3)

      53 |       await onExportToGoogleDocs(message);
      54 |     } finally {
    > 55 |       setIsExporting(false);
         |       ^
      56 |     }
      57 |   };
      58 |

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsExporting (components/custom/chat/MessageActions.tsx:55:7)

    console.error
      Warning: An update to MessageActions inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at message (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/MessageActions.tsx:43:3)

      53 |       await onExportToGoogleDocs(message);
      54 |     } finally {
    > 55 |       setIsExporting(false);
         |       ^
      56 |     }
      57 |   };
      58 |

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsExporting (components/custom/chat/MessageActions.tsx:55:7)

  ‚óè MessageActions ‚Ä∫ Export to Google Docs button ‚Ä∫ should re-enable button after failed export

    Export failed

      371 |
      372 |     it('should re-enable button after failed export', async () => {
    > 373 |       mockOnExportToGoogleDocs.mockRejectedValue(new Error('Export failed'));
          |                                                  ^
      374 |       const message = createMessage();
      375 |
      376 |       render(

      at Object.<anonymous> (__tests__/components/custom/chat/MessageActions.test.tsx:373:50)

  ‚óè MessageActions ‚Ä∫ Export to Google Docs button ‚Ä∫ should re-enable button after failed export

    Export failed

      371 |
      372 |     it('should re-enable button after failed export', async () => {
    > 373 |       mockOnExportToGoogleDocs.mockRejectedValue(new Error('Export failed'));
          |                                                  ^
      374 |       const message = createMessage();
      375 |
      376 |       render(

      at Object.<anonymous> (__tests__/components/custom/chat/MessageActions.test.tsx:373:50)

PASS __tests__/errorLogging.test.ts
FAIL __tests__/performance/chat-interface.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:82:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:82:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      80 |       const mockOnKeyPress = jest.fn();
      81 |
    > 82 |       render(
         |             ^
      83 |         <ChatInput
      84 |           value="test message"
      85 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:82:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:82:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:82:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      80 |       const mockOnKeyPress = jest.fn();
      81 |
    > 82 |       render(
         |             ^
      83 |         <ChatInput
      84 |           value="test message"
      85 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:82:13)

    console.error
      The above error occurred in the <ChatInput> component:
      
          at value (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      80 |       const mockOnKeyPress = jest.fn();
      81 |
    > 82 |       render(
         |             ^
      83 |         <ChatInput
      84 |           value="test message"
      85 |           onChange={mockOnChange}

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:82:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:100:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:100:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

       98 |       const mockOnKeyPress = jest.fn();
       99 |
    > 100 |       render(
          |             ^
      101 |         <ChatInput
      102 |           value=""
      103 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:100:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:100:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:100:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

       98 |       const mockOnKeyPress = jest.fn();
       99 |
    > 100 |       render(
          |             ^
      101 |         <ChatInput
      102 |           value=""
      103 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:100:13)

    console.error
      The above error occurred in the <ChatInput> component:
      
          at value (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

       98 |       const mockOnKeyPress = jest.fn();
       99 |
    > 100 |       render(
          |             ^
      101 |         <ChatInput
      102 |           value=""
      103 |           onChange={mockOnChange}

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:100:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:120:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:120:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      118 |       const mockOnKeyPress = jest.fn();
      119 |
    > 120 |       render(
          |             ^
      121 |         <ChatInput
      122 |           value=""
      123 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:120:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:120:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:120:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      118 |       const mockOnKeyPress = jest.fn();
      119 |
    > 120 |       render(
          |             ^
      121 |         <ChatInput
      122 |           value=""
      123 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:120:13)

    console.error
      The above error occurred in the <ChatInput> component:
      
          at value (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      118 |       const mockOnKeyPress = jest.fn();
      119 |
    > 120 |       render(
          |             ^
      121 |         <ChatInput
      122 |           value=""
      123 |           onChange={mockOnChange}

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:120:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:138:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:138:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      136 |       const mockOnKeyPress = jest.fn();
      137 |
    > 138 |       render(
          |             ^
      139 |         <ChatInput
      140 |           value="test message"
      141 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:138:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:138:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:138:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      136 |       const mockOnKeyPress = jest.fn();
      137 |
    > 138 |       render(
          |             ^
      139 |         <ChatInput
      140 |           value="test message"
      141 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:138:13)

    console.error
      The above error occurred in the <ChatInput> component:
      
          at value (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      136 |       const mockOnKeyPress = jest.fn();
      137 |
    > 138 |       render(
          |             ^
      139 |         <ChatInput
      140 |           value="test message"
      141 |           onChange={mockOnChange}

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:138:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:156:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:156:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      154 |       const mockOnKeyPress = jest.fn();
      155 |
    > 156 |       render(
          |             ^
      157 |         <ChatInput
      158 |           value="test message"
      159 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:156:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:156:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:156:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      154 |       const mockOnKeyPress = jest.fn();
      155 |
    > 156 |       render(
          |             ^
      157 |         <ChatInput
      158 |           value="test message"
      159 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:156:13)

    console.error
      The above error occurred in the <ChatInput> component:
      
          at value (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      154 |       const mockOnKeyPress = jest.fn();
      155 |
    > 156 |       render(
          |             ^
      157 |         <ChatInput
      158 |           value="test message"
      159 |           onChange={mockOnChange}

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:156:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:189:34)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:189:34)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      187 |       }
      188 |
    > 189 |       const { rerender } = render(<TestWrapper value="test" />);
          |                                  ^
      190 |       expect(renderSpy).toHaveBeenCalledTimes(1);
      191 |
      192 |       // Re-render parent with same props - ChatInput should not re-render due to memo

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:189:34)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:189:34)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:189:34)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      187 |       }
      188 |
    > 189 |       const { rerender } = render(<TestWrapper value="test" />);
          |                                  ^
      190 |       expect(renderSpy).toHaveBeenCalledTimes(1);
      191 |
      192 |       // Re-render parent with same props - ChatInput should not re-render due to memo

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:189:34)

    console.error
      The above error occurred in the <ChatInput> component:
      
          at value (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:48:3)
          at value (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:177:30)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      187 |       }
      188 |
    > 189 |       const { rerender } = render(<TestWrapper value="test" />);
          |                                  ^
      190 |       expect(renderSpy).toHaveBeenCalledTimes(1);
      191 |
      192 |       // Re-render parent with same props - ChatInput should not re-render due to memo

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:189:34)

    console.error
      Action execution error: Error: Action failed
          at /Users/mattod/Desktop/HRSkills/webapp/components/custom/ActionButtons.tsx:179:17

      188 |         }
      189 |       } catch (error: any) {
    > 190 |         console.error('Action execution error:', error);
          |                 ^
      191 |
      192 |         // Record error result
      193 |         const errorResult: ActionResult = {

      at error (components/custom/ActionButtons.tsx:190:17)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:537:34)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:537:34)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      535 |       const mockOnKeyPress = jest.fn();
      536 |
    > 537 |       const { rerender } = render(
          |                                  ^
      538 |         <ChatInput
      539 |           value="test"
      540 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:537:34)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:537:34)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:537:34)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      535 |       const mockOnKeyPress = jest.fn();
      536 |
    > 537 |       const { rerender } = render(
          |                                  ^
      538 |         <ChatInput
      539 |           value="test"
      540 |           onChange={mockOnChange}

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:537:34)

    console.error
      The above error occurred in the <ChatInput> component:
      
          at value (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:48:3)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      535 |       const mockOnKeyPress = jest.fn();
      536 |
    > 537 |       const { rerender } = render(
          |                                  ^
      538 |         <ChatInput
      539 |           value="test"
      540 |           onChange={mockOnChange}

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:537:34)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:598:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:598:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      596 |       });
      597 |
    > 598 |       render(
          |             ^
      599 |         <div>
      600 |           <ChatInput
      601 |             value="test message"

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:598:13)

    console.error
      Error: Uncaught [ReferenceError: isDisabled is not defined]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:598:13)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: ReferenceError: isDisabled is not defined
            at isDisabled (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:83:21)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at updateFunctionComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
            at updateSimpleMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19454:10)
            at updateMemoComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:19303:14)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21712:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/performance/chat-interface.test.tsx:598:13)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      596 |       });
      597 |
    > 598 |       render(
          |             ^
      599 |         <div>
      600 |           <ChatInput
      601 |             value="test message"

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:598:13)

    console.error
      The above error occurred in the <ChatInput> component:
      
          at value (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatInput.tsx:48:3)
          at div
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      596 |       });
      597 |
    > 598 |       render(
          |             ^
      599 |         <div>
      600 |           <ChatInput
      601 |             value="test message"

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:598:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should render ChatInput component

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:82:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should call onChange when typing

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:100:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should disable send button when input is empty

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:120:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should enable send button when input has value

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:138:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should call onSend when send button clicked

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:156:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should not re-render when parent re-renders with same props

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:189:34)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Performance Regression Tests ‚Ä∫ ChatInput should have stable onChange handler

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:537:34)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Integration Tests ‚Ä∫ ChatInput + ActionButtons should work together

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:598:13)

PASS __tests__/components/custom/chat/SuggestionCards.test.tsx
PASS __tests__/hooks/useExternalPrompt.test.ts
PASS __tests__/components/custom/chat/PIIWarningModal.test.tsx
  ‚óè Console

    console.error
      Warning: React does not recognize the `whileHover` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `whilehover` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at button
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/PIIWarningModal.test.tsx:19:16)
          at div
          at div
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/PIIWarningModal.test.tsx:14:13)
          at div
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/PIIWarningModal.test.tsx:14:13)
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/PIIWarningModal.test.tsx:25:23)
          at isOpen (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/PIIWarningModal.tsx:53:3)

      46 |   describe('Rendering behavior', () => {
      47 |     it('should render when isOpen is true', () => {
    > 48 |       render(<PIIWarningModal {...defaultProps} />);
         |             ^
      49 |
      50 |       expect(screen.getByRole('alertdialog')).toBeInTheDocument();
      51 |       expect(screen.getByText('Sensitive Information Detected')).toBeInTheDocument();

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (../node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (../node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (../node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (../node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (../node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (../node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (../node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/custom/chat/PIIWarningModal.test.tsx:48:13)

    console.error
      Warning: React does not recognize the `whileTap` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `whiletap` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
          at button
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/PIIWarningModal.test.tsx:19:16)
          at div
          at div
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/PIIWarningModal.test.tsx:14:13)
          at div
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/PIIWarningModal.test.tsx:14:13)
          at children (/Users/mattod/Desktop/HRSkills/webapp/__tests__/components/custom/chat/PIIWarningModal.test.tsx:25:23)
          at isOpen (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/PIIWarningModal.tsx:53:3)

      46 |   describe('Rendering behavior', () => {
      47 |     it('should render when isOpen is true', () => {
    > 48 |       render(<PIIWarningModal {...defaultProps} />);
         |             ^
      49 |
      50 |       expect(screen.getByRole('alertdialog')).toBeInTheDocument();
      51 |       expect(screen.getByText('Sensitive Information Detected')).toBeInTheDocument();

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (../node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (../node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (../node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (../node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (../node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (../node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (../node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/custom/chat/PIIWarningModal.test.tsx:48:13)

PASS __tests__/memoization.test.tsx
PASS __tests__/lib/analytics/parser.test.ts
PASS __tests__/code-splitting.test.tsx
PASS __tests__/components/custom/chat/WorkflowBadge.test.tsx
PASS __tests__/ErrorBoundary.test.tsx
PASS __tests__/components/custom/chat/ChatContext.test.tsx
PASS __tests__/components/SmartPrefetch.test.tsx
PASS __tests__/api/analytics-metrics.test.ts
PASS __tests__/components/custom/chat/MessageItem.test.tsx
PASS __tests__/components/custom/chat/MessageList.test.tsx
PASS __tests__/hooks/useGoogleDocsExport.test.ts
  ‚óè Console

    console.error
      Error: Not implemented: navigation (except hash changes)
          at module.exports (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
          at navigateFetch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
          at exports.navigate (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
          at LocationImpl._locationObjectNavigate (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)
          at LocationImpl._locationObjectSetterNavigate (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)
          at LocationImpl.set href [as href] (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)
          at Location.set href [as href] (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)
          at Object.exportToGoogleDocs (/Users/mattod/Desktop/HRSkills/webapp/lib/hooks/useGoogleDocsExport.ts:177:33)
          at /Users/mattod/Desktop/HRSkills/webapp/__tests__/hooks/useGoogleDocsExport.test.ts:344:9 {
        type: 'not implemented'
      }

      175 |           );
      176 |           if (shouldConnect) {
    > 177 |             window.location.href = '/api/auth/google';
          |                                 ^
      178 |           }
      179 |           return;
      180 |         }

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at module.exports (../node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at navigateFetch (../node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
      at exports.navigate (../node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
      at LocationImpl._locationObjectNavigate (../node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)
      at LocationImpl._locationObjectSetterNavigate (../node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)
      at LocationImpl.set href [as href] (../node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)
      at Location.set href [as href] (../node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)
      at Object.exportToGoogleDocs (lib/hooks/useGoogleDocsExport.ts:177:33)
      at __tests__/hooks/useGoogleDocsExport.test.ts:344:9

PASS __tests__/hooks.test.tsx
FAIL __tests__/components/custom/chat/MessageContent.test.tsx
  ‚óè Test suite failed to run

    Cannot find module '../WorkflowProgress' from '__tests__/components/custom/chat/MessageContent.test.tsx'

      19 | }));
      20 |
    > 21 | jest.mock('../WorkflowProgress', () => ({
         |      ^
      22 |   WorkflowProgress: ({ workflowId, state }: any) => (
      23 |     <div data-testid="workflow-progress">
      24 |       {workflowId} - {state.progress}%

      at Resolver._throwModNotFoundError (../node_modules/jest-resolve/build/index.js:863:11)
      at Object.mock (__tests__/components/custom/chat/MessageContent.test.tsx:21:6)

PASS __tests__/hooks/useChatAPI.test.ts
PASS __tests__/hooks/useChatErrorHandler.test.ts
PASS __tests__/hooks/usePIIDetection.test.ts
FAIL __tests__/accessibility/components.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:18:35)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at ChatInterfaceInner (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:46:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:18:35)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      16 |   describe('ChatInterface Component', () => {
      17 |     it('should have no axe violations', async () => {
    > 18 |       const { container } = render(<ChatInterface />);
         |                                   ^
      19 |       const results = await axe(container);
      20 |       expect(results).toHaveNoViolations();
      21 |     });

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:18:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:18:35)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at ChatInterfaceInner (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:46:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:18:35)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      16 |   describe('ChatInterface Component', () => {
      17 |     it('should have no axe violations', async () => {
    > 18 |       const { container } = render(<ChatInterface />);
         |                                   ^
      19 |       const results = await axe(container);
      20 |       expect(results).toHaveNoViolations();
      21 |     });

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:18:35)

    console.error
      The above error occurred in the <ChatInterfaceInner> component:
      
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      16 |   describe('ChatInterface Component', () => {
      17 |     it('should have no axe violations', async () => {
    > 18 |       const { container } = render(<ChatInterface />);
         |                                   ^
      19 |       const results = await axe(container);
      20 |       expect(results).toHaveNoViolations();
      21 |     });

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:18:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:24:40)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at ChatInterfaceInner (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:46:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:24:40)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      22 |
      23 |     it('should have proper form labels', async () => {
    > 24 |       const { getByLabelText } = render(<ChatInterface />);
         |                                        ^
      25 |       expect(getByLabelText(/chat message input/i)).toBeInTheDocument();
      26 |     });
      27 |

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:24:40)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:24:40)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at ChatInterfaceInner (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:46:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:24:40)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      22 |
      23 |     it('should have proper form labels', async () => {
    > 24 |       const { getByLabelText } = render(<ChatInterface />);
         |                                        ^
      25 |       expect(getByLabelText(/chat message input/i)).toBeInTheDocument();
      26 |     });
      27 |

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:24:40)

    console.error
      The above error occurred in the <ChatInterfaceInner> component:
      
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      22 |
      23 |     it('should have proper form labels', async () => {
    > 24 |       const { getByLabelText } = render(<ChatInterface />);
         |                                        ^
      25 |       expect(getByLabelText(/chat message input/i)).toBeInTheDocument();
      26 |     });
      27 |

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:24:40)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:29:35)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at ChatInterfaceInner (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:46:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:29:35)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      27 |
      28 |     it('should have accessible send button', async () => {
    > 29 |       const { getByRole } = render(<ChatInterface />);
         |                                   ^
      30 |       const sendButton = getByRole('button', { name: /send message/i });
      31 |       expect(sendButton).toBeInTheDocument();
      32 |     });

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:29:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:29:35)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at ChatInterfaceInner (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:46:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:29:35)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at processTicksAndRejections (node:internal/process/task_queues:105:5)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      27 |
      28 |     it('should have accessible send button', async () => {
    > 29 |       const { getByRole } = render(<ChatInterface />);
         |                                   ^
      30 |       const sendButton = getByRole('button', { name: /send message/i });
      31 |       expect(sendButton).toBeInTheDocument();
      32 |     });

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:29:35)

    console.error
      The above error occurred in the <ChatInterfaceInner> component:
      
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      27 |
      28 |     it('should have accessible send button', async () => {
    > 29 |       const { getByRole } = render(<ChatInterface />);
         |                                   ^
      30 |       const sendButton = getByRole('button', { name: /send message/i });
      31 |       expect(sendButton).toBeInTheDocument();
      32 |     });

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:29:35)

    console.error
      Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?
      
      Check the render method of `Primitive.div.SlotClone`.
          at className (/Users/mattod/Desktop/HRSkills/webapp/components/ui/dialog.tsx:26:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-slot/src/slot.tsx:68:13
          at /Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-slot/src/slot.tsx:15:13
          at /Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-primitive/src/primitive.tsx:40:13
          at /Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-portal/src/portal.tsx:22:22
          at Presence (/Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-presence/src/presence.tsx:12:11)
          at Provider (/Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
          at DialogPortal (/Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-dialog/src/dialog.tsx:146:11)
          at props (/Users/mattod/Desktop/HRSkills/webapp/components/ui/dialog.tsx:17:28)
          at className (/Users/mattod/Desktop/HRSkills/webapp/components/ui/dialog.tsx:42:3)
          at Provider (/Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-context/src/create-context.tsx:59:15)
          at Dialog (/Users/mattod/Desktop/HRSkills/node_modules/@radix-ui/react-dialog/src/dialog.tsx:52:5)
          at props (/Users/mattod/Desktop/HRSkills/webapp/components/ui/dialog.tsx:9:22)
          at isOpen (/Users/mattod/Desktop/HRSkills/webapp/components/custom/MetricDetailsDialog.tsx:31:3)

      35 |   describe('MetricDetailsDialog Component', () => {
      36 |     it('should have no axe violations when open', async () => {
    > 37 |       const { container } = render(
         |                                   ^
      38 |         <MetricDetailsDialog
      39 |           isOpen={true}
      40 |           onClose={() => {}}

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateFunctionComponentInDev (../node_modules/react-dom/cjs/react-dom.development.js:20222:9)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20189:7)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performSyncWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:26124:20)
      at flushSyncCallbacks (../node_modules/react-dom/cjs/react-dom.development.js:12042:22)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26998:3)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:26020:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:37:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:81:35)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at SmartFileUpload (/Users/mattod/Desktop/HRSkills/webapp/components/custom/SmartFileUpload.tsx:34:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:81:35)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      79 |   describe('SmartFileUpload Component', () => {
      80 |     it('should have no axe violations', async () => {
    > 81 |       const { container } = render(<SmartFileUpload onUploadSuccess={() => {}} />);
         |                                   ^
      82 |       const results = await axe(container);
      83 |       expect(results).toHaveNoViolations();
      84 |     });

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:81:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:81:35)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at SmartFileUpload (/Users/mattod/Desktop/HRSkills/webapp/components/custom/SmartFileUpload.tsx:34:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:81:35)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      79 |   describe('SmartFileUpload Component', () => {
      80 |     it('should have no axe violations', async () => {
    > 81 |       const { container } = render(<SmartFileUpload onUploadSuccess={() => {}} />);
         |                                   ^
      82 |       const results = await axe(container);
      83 |       expect(results).toHaveNoViolations();
      84 |     });

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:81:35)

    console.error
      The above error occurred in the <SmartFileUpload> component:
      
          at onUploadSuccess (/Users/mattod/Desktop/HRSkills/webapp/components/custom/SmartFileUpload.tsx:29:35)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      79 |   describe('SmartFileUpload Component', () => {
      80 |     it('should have no axe violations', async () => {
    > 81 |       const { container } = render(<SmartFileUpload onUploadSuccess={() => {}} />);
         |                                   ^
      82 |       const results = await axe(container);
      83 |       expect(results).toHaveNoViolations();
      84 |     });

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:81:35)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:87:40)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at SmartFileUpload (/Users/mattod/Desktop/HRSkills/webapp/components/custom/SmartFileUpload.tsx:34:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:87:40)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      85 |
      86 |     it('should have accessible file input', async () => {
    > 87 |       const { getByLabelText } = render(<SmartFileUpload onUploadSuccess={() => {}} />);
         |                                        ^
      88 |       const fileInput = getByLabelText(/upload employee data file/i);
      89 |       expect(fileInput).toBeInTheDocument();
      90 |       expect(fileInput).toHaveAttribute('type', 'file');

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:87:40)

    console.error
      Error: Uncaught [Error: useAuth must be used within an AuthProvider]
          at reportException (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:87:40)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        detail: Error: useAuth must be used within an AuthProvider
            at useAuth (/Users/mattod/Desktop/HRSkills/webapp/lib/auth/auth-context.tsx:217:11)
            at SmartFileUpload (/Users/mattod/Desktop/HRSkills/webapp/components/custom/SmartFileUpload.tsx:34:37)
            at renderWithHooks (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/mattod/Desktop/HRSkills/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/mattod/Desktop/HRSkills/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/act-compat.js:47:25
            at renderRoot (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:190:26)
            at render (/Users/mattod/Desktop/HRSkills/node_modules/@testing-library/react/dist/pure.js:292:10)
            at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:87:40)
            at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
            at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
            at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12),
        type: 'unhandled exception'
      }

      85 |
      86 |     it('should have accessible file input', async () => {
    > 87 |       const { getByLabelText } = render(<SmartFileUpload onUploadSuccess={() => {}} />);
         |                                        ^
      88 |       const fileInput = getByLabelText(/upload employee data file/i);
      89 |       expect(fileInput).toBeInTheDocument();
      90 |       expect(fileInput).toHaveAttribute('type', 'file');

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (../node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:87:40)

    console.error
      The above error occurred in the <SmartFileUpload> component:
      
          at onUploadSuccess (/Users/mattod/Desktop/HRSkills/webapp/components/custom/SmartFileUpload.tsx:29:35)
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      85 |
      86 |     it('should have accessible file input', async () => {
    > 87 |       const { getByLabelText } = render(<SmartFileUpload onUploadSuccess={() => {}} />);
         |                                        ^
      88 |       const fileInput = getByLabelText(/upload employee data file/i);
      89 |       expect(fileInput).toBeInTheDocument();
      90 |       expect(fileInput).toHaveAttribute('type', 'file');

      at logCapturedError (../node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (../node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (../node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (../node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (../node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (../node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (../node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (../node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:87:40)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at module.exports (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
          at HTMLCanvasElementImpl.getContext (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
          at HTMLCanvasElement.getContext (/Users/mattod/Desktop/HRSkills/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:13407:49
          at Object.get (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:7719:23)
          at _isIconLigature (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:13406:41)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:27313:54
          at Array.some (<anonymous>)
          at hasRealTextChildren (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:27312:35)
          at Rule.colorContrastMatches [as matches] (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:27277:12)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:27944:24
          at Array.filter (<anonymous>)
          at Rule.gatherAndMatchNodes (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:27943:21)
          at Rule.run2 [as run] (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:27794:22)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:28570:14
          at pop (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:8169:18)
          at Object.defer (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:8191:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:28284:27
          at Array.forEach (<anonymous>)
          at Audit.run (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:28283:23)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:28652:15
          at pop (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:8169:18)
          at Object.defer (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:8191:11)
          at Object.runRules [as _runRules] (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:28651:9)
          at Object.run4 [as run] (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/node_modules/axe-core/axe.js:28902:11)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-axe/index.js:79:15
          at new Promise (<anonymous>)
          at axe (/Users/mattod/Desktop/HRSkills/node_modules/jest-axe/index.js:78:12)
          at Object.<anonymous> (/Users/mattod/Desktop/HRSkills/webapp/__tests__/accessibility/components.test.tsx:99:32)
          at Promise.finally.completed (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/mattod/Desktop/HRSkills/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/mattod/Desktop/HRSkills/node_modules/jest-runner/build/testWorker.js:497:12) {
        type: 'not implemented'
      }

       97 |     it('should test muted text contrast', async () => {
       98 |       const { container } = render(<div className="text-muted-foreground">Muted text content</div>);
    >  99 |       const results = await axe(container, {
          |                                ^
      100 |         rules: {
      101 |           'color-contrast': { enabled: true },
      102 |         },

      at VirtualConsole.<anonymous> (../node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at module.exports (../node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)
      at HTMLCanvasElementImpl.getContext (../node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
      at HTMLCanvasElement.getContext (../node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at ../node_modules/jest-axe/index.js:79:15
      at axe (../node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:99:32)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ ChatInterface Component ‚Ä∫ should have no axe violations

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at ChatInterfaceInner (components/custom/ChatInterface.tsx:46:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:18:35)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ ChatInterface Component ‚Ä∫ should have proper form labels

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at ChatInterfaceInner (components/custom/ChatInterface.tsx:46:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:24:40)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ ChatInterface Component ‚Ä∫ should have accessible send button

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at ChatInterfaceInner (components/custom/ChatInterface.tsx:46:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:29:35)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ SmartFileUpload Component ‚Ä∫ should have no axe violations

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at SmartFileUpload (components/custom/SmartFileUpload.tsx:34:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:81:35)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ SmartFileUpload Component ‚Ä∫ should have accessible file input

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at SmartFileUpload (components/custom/SmartFileUpload.tsx:34:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:87:40)

  ‚óè Accessibility Tests - Common Patterns ‚Ä∫ Focus Management ‚Ä∫ should have visible focus indicators

    unknown rule `focus-visible` in options.rules

      111 |         <button className="focus-visible:outline focus-visible:outline-2">Test Button</button>
      112 |       );
    > 113 |       const results = await axe(container, {
          |                                ^
      114 |         rules: {
      115 |           'focus-visible': { enabled: true },
      116 |         },

      at ../node_modules/jest-axe/node_modules/axe-core/axe.js:28418:23
          at Array.forEach (<anonymous>)
      at ../node_modules/jest-axe/index.js:79:15
      at axe (../node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:113:32)

FAIL __tests__/api/analytics.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      17 | export async function POST(request: NextRequest) {
      18 |   let metric: any;
    > 19 |   try {
         |        ^
      20 |     metric = await request.json();
      21 |
      22 |     // Validate metric structure

      at Object.Request (../node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (../node_modules/next/server.js:2:16)
      at Object.<anonymous> (app/api/analytics/metrics/route.ts:19:17)
      at Object.<anonymous> (__tests__/api/analytics.test.ts:9:16)

PASS __tests__/hooks/useContextPanelDetection.test.ts
FAIL __tests__/components/custom/chat/ChatInterface.test.tsx (13.888 s)
  ‚óè Console

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (components/custom/ChatInterface.tsx:114:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      113 |
      114 |       addMessage(userMessage);
    > 115 |       setInput('');
          |       ^
      116 |       setIsTyping(true);
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setInput (components/custom/ChatInterface.tsx:115:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      114 |       addMessage(userMessage);
      115 |       setInput('');
    > 116 |       setIsTyping(true);
          |       ^
      117 |
      118 |       // Send message through API (handles routing, responses, and panels) - Phase 3 hook
      119 |       // Pass userMessage object so hook can include it in conversation history

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:116:7)
      at handleSend (components/custom/ChatInterface.tsx:186:33)
      at onPromptReceived (lib/hooks/useExternalPrompt.ts:128:15)
      at lib/hooks/useExternalPrompt.ts:143:5
      at commitHookEffectListMount (../node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (../node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (../node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (../node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (../node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (../node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at ../node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at workLoop (../node_modules/scheduler/cjs/scheduler.development.js:266:34)
      at flushWork (../node_modules/scheduler/cjs/scheduler.development.js:239:14)
      at performWorkUntilDeadline (../node_modules/scheduler/cjs/scheduler.development.js:533:21)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

       96 |    */
       97 |   const addMessage = useCallback((message: Message) => {
    >  98 |     setMessages(prev => [...prev, message]);
          |     ^
       99 |   }, []);
      100 |
      101 |   /**

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setMessages (components/custom/chat/ChatContext.tsx:98:5)
      at addMessage (lib/hooks/useChatAPI.ts:232:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      237 |
      238 |       // Update state
    > 239 |       setLastDetectedPanel(panelToUse);
          |       ^
      240 |       setLastConfidence(confidence);
      241 |
      242 |       // Enhance and notify parent

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastDetectedPanel (lib/hooks/useContextPanelDetection.ts:239:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatInterfaceInner inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at onContextPanelChange (/Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:42:3)
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      238 |       // Update state
      239 |       setLastDetectedPanel(panelToUse);
    > 240 |       setLastConfidence(confidence);
          |       ^
      241 |
      242 |       // Enhance and notify parent
      243 |       if (onPanelChange) {

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setLastConfidence (lib/hooks/useContextPanelDetection.ts:240:7)
      at onPanelUpdate (lib/hooks/useChatAPI.ts:235:7)
      at lib/hooks/useChatAPI.ts:258:11
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Warning: An update to ChatProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at children (/Users/mattod/Desktop/HRSkills/webapp/components/custom/chat/ChatContext.tsx:86:3)
          at ChatInterface

      121 |
      122 |       // Reset typing indicator (will be set to false in hook's finally or error handler)
    > 123 |       setIsTyping(false);
          |       ^
      124 |     },
      125 |     [input, messages, addMessage, setIsTyping, checkForPII, sendChatMessage]
      126 |   );

      at printWarning (../node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (../node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (../node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (../node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (../node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at setIsTyping (components/custom/ChatInterface.tsx:123:7)
      at lib/hooks/useExternalPrompt.ts:128:9

    console.error
      Chat error: TypeError: Cannot read properties of undefined (reading 'json')
          at json (/Users/mattod/Desktop/HRSkills/webapp/lib/hooks/useChatAPI.ts:214:56)
          at /Users/mattod/Desktop/HRSkills/webapp/lib/hooks/useChatAPI.ts:258:11
          at /Users/mattod/Desktop/HRSkills/webapp/components/custom/ChatInterface.tsx:120:7
          at /Users/mattod/Desktop/HRSkills/webapp/lib/hooks/useExternalPrompt.ts:128:9

      161 |
      162 |       // Log error with context
    > 163 |       console.error(`${apiType.charAt(0).toUpperCase() + apiType.slice(1)} error:`, error);
          |               ^
      164 |
      165 |       // Format user-facing message
      166 |       const formattedMessage = userMessage || formatErrorForUser(error, apiType);

      at error (lib/hooks/useChatErrorHandler.ts:163:15)
      at onError (lib/hooks/useChatAPI.ts:260:11)
      at components/custom/ChatInterface.tsx:120:7
      at lib/hooks/useExternalPrompt.ts:128:9

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when send button clicked

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/chat", ObjectContaining {"headers": ObjectContaining {"Authorization": "Bearer test-token", "Content-Type": "application/json"}, "method": "POST"}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162557759_mkpvw[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162557759_mkpvw[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Hello"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      187 |
      188 |       await waitFor(() => {
    > 189 |         expect(global.fetch).toHaveBeenCalledWith(
          |                              ^
      190 |           '/api/chat',
      191 |           expect.objectContaining({
      192 |             method: 'POST',

      at toHaveBeenCalledWith (__tests__/components/custom/chat/ChatInterface.test.tsx:189:30)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when send button clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:186:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when send button clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:186:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when send button clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:186:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when Enter key pressed

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162558826_zrbobi[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162558826_zrbobi[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test message"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      217 |
      218 |       await waitFor(() => {
    > 219 |         expect(global.fetch).toHaveBeenCalled();
          |                              ^
      220 |       });
      221 |     });
      222 |

      at toHaveBeenCalled (__tests__/components/custom/chat/ChatInterface.test.tsx:219:30)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should clear input after sending

    expect(received).toBe(expected) // Object.is equality

    Expected: ""
    Received: "Test"

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162559839_0whf6[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162559839_0whf6[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      238 |
      239 |       await waitFor(() => {
    > 240 |         expect(input.value).toBe('');
          |                             ^
      241 |       });
      242 |     });
      243 |

      at toBe (__tests__/components/custom/chat/ChatInterface.test.tsx:240:29)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should clear input after sending

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:237:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should clear input after sending

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:237:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should clear input after sending

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:237:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    Unable to find an element by: [data-testid="pii-warning-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33manimate[39m=[32m"[object Object]"[39m
          [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
          [33minitial[39m=[32m"[object Object]"[39m
          [33mtransition[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 8V4H8"[39m
                      [36m/>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"12"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"16"[39m
                        [33mx[39m=[32m"4"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 13v2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 13v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<h2[39m
                      [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                    [36m>[39m
                      [0mChief People Officer[0m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 2v4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M22 4h-4"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"4"[39m
                          [33mcy[39m=[32m"20"[39m
                          [33mr[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</h2>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                    [36m>[39m
                      [0m‚ÄúMore People, More Problems‚Äù[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mdata-testid[39m=[32m"chat-header"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mconv_1763162560860_lnv75fo[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mdata-testid[39m=[32m"reset-button"[39m
                    [36m>[39m
                      [0mReset[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"message-list"[39m
              [36m>[39m
                [0mMessages for [0m
                [0mconv_1763162560860_lnv75fo[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"suggestion-cards"[39m
            [36m>[39m
              [36m<button>[39m
                [0mGenerate an offer[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mCreate a PIP[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"chat-input"[39m
            [36m>[39m
              [36m<input[39m
                [33mdata-testid[39m=[32m"message-input"[39m
                [33mvalue[39m=[32m"My SSN is 123-45-6789"[39m
              [36m/>[39m
              [36m<button[39m
                [33mdata-testid[39m=[32m"send-button"[39m
              [36m>[39m
                [0mSend[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      265 |       fireEvent.click(sendButton);
      266 |
    > 267 |       await waitFor(() => {
          |                    ^
      268 |         expect(screen.getByTestId('pii-warning-modal')).toBeInTheDocument();
      269 |       });
      270 |

      at waitForWrapper (../node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatInterface.test.tsx:267:20)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:251:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:265:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:251:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:265:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:251:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:265:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should allow editing message from PII warning

    Unable to find an element by: [data-testid="pii-warning-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33manimate[39m=[32m"[object Object]"[39m
          [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
          [33minitial[39m=[32m"[object Object]"[39m
          [33mtransition[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 8V4H8"[39m
                      [36m/>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"12"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"16"[39m
                        [33mx[39m=[32m"4"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 13v2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 13v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<h2[39m
                      [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                    [36m>[39m
                      [0mChief People Officer[0m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 2v4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M22 4h-4"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"4"[39m
                          [33mcy[39m=[32m"20"[39m
                          [33mr[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</h2>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                    [36m>[39m
                      [0m‚ÄúMore People, More Problems‚Äù[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mdata-testid[39m=[32m"chat-header"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mconv_1763162561873_u58mxn[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mdata-testid[39m=[32m"reset-button"[39m
                    [36m>[39m
                      [0mReset[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"message-list"[39m
              [36m>[39m
                [0mMessages for [0m
                [0mconv_1763162561873_u58mxn[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"suggestion-cards"[39m
            [36m>[39m
              [36m<button>[39m
                [0mGenerate an offer[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mCreate a PIP[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"chat-input"[39m
            [36m>[39m
              [36m<input[39m
                [33mdata-testid[39m=[32m"message-input"[39m
                [33mvalue[39m=[32m"Contains SSN data"[39m
              [36m/>[39m
              [36m<button[39m
                [33mdata-testid[39m=[32m"send-button"[39m
              [36m>[39m
                [0mSend[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      281 |       fireEvent.click(sendButton);
      282 |
    > 283 |       await waitFor(() => {
          |                    ^
      284 |         expect(screen.getByTestId('pii-warning-modal')).toBeInTheDocument();
      285 |       });
      286 |

      at waitForWrapper (../node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatInterface.test.tsx:283:20)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should allow editing message from PII warning

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:281:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should allow editing message from PII warning

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:281:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should allow editing message from PII warning

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:281:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should send anyway when user confirms

    Unable to find an element by: [data-testid="pii-warning-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33manimate[39m=[32m"[object Object]"[39m
          [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
          [33minitial[39m=[32m"[object Object]"[39m
          [33mtransition[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 8V4H8"[39m
                      [36m/>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"12"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"16"[39m
                        [33mx[39m=[32m"4"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 13v2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 13v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<h2[39m
                      [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                    [36m>[39m
                      [0mChief People Officer[0m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 2v4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M22 4h-4"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"4"[39m
                          [33mcy[39m=[32m"20"[39m
                          [33mr[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</h2>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                    [36m>[39m
                      [0m‚ÄúMore People, More Problems‚Äù[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mdata-testid[39m=[32m"chat-header"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mconv_1763162562886_o02van[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mdata-testid[39m=[32m"reset-button"[39m
                    [36m>[39m
                      [0mReset[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"message-list"[39m
              [36m>[39m
                [0mMessages for [0m
                [0mconv_1763162562886_o02van[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"suggestion-cards"[39m
            [36m>[39m
              [36m<button>[39m
                [0mGenerate an offer[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mCreate a PIP[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"chat-input"[39m
            [36m>[39m
              [36m<input[39m
                [33mdata-testid[39m=[32m"message-input"[39m
                [33mvalue[39m=[32m"Contains SSN data"[39m
              [36m/>[39m
              [36m<button[39m
                [33mdata-testid[39m=[32m"send-button"[39m
              [36m>[39m
                [0mSend[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      310 |       fireEvent.click(sendButton);
      311 |
    > 312 |       await waitFor(() => {
          |                    ^
      313 |         expect(screen.getByTestId('pii-warning-modal')).toBeInTheDocument();
      314 |       });
      315 |

      at waitForWrapper (../node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatInterface.test.tsx:312:20)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should send anyway when user confirms

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:310:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should send anyway when user confirms

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:310:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should send anyway when user confirms

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:310:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should close modal when backdrop clicked

    Unable to find an element by: [data-testid="pii-warning-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33manimate[39m=[32m"[object Object]"[39m
          [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
          [33minitial[39m=[32m"[object Object]"[39m
          [33mtransition[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 8V4H8"[39m
                      [36m/>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"12"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"16"[39m
                        [33mx[39m=[32m"4"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 13v2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 13v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<h2[39m
                      [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                    [36m>[39m
                      [0mChief People Officer[0m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 2v4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M22 4h-4"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"4"[39m
                          [33mcy[39m=[32m"20"[39m
                          [33mr[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</h2>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                    [36m>[39m
                      [0m‚ÄúMore People, More Problems‚Äù[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mdata-testid[39m=[32m"chat-header"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mconv_1763162563898_ux1gvl[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mdata-testid[39m=[32m"reset-button"[39m
                    [36m>[39m
                      [0mReset[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"message-list"[39m
              [36m>[39m
                [0mMessages for [0m
                [0mconv_1763162563898_ux1gvl[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"suggestion-cards"[39m
            [36m>[39m
              [36m<button>[39m
                [0mGenerate an offer[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mCreate a PIP[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"chat-input"[39m
            [36m>[39m
              [36m<input[39m
                [33mdata-testid[39m=[32m"message-input"[39m
                [33mvalue[39m=[32m"Contains SSN"[39m
              [36m/>[39m
              [36m<button[39m
                [33mdata-testid[39m=[32m"send-button"[39m
              [36m>[39m
                [0mSend[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      331 |       fireEvent.click(sendButton);
      332 |
    > 333 |       await waitFor(() => {
          |                    ^
      334 |         expect(screen.getByTestId('pii-warning-modal')).toBeInTheDocument();
      335 |       });
      336 |

      at waitForWrapper (../node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatInterface.test.tsx:333:20)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should close modal when backdrop clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:331:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should close modal when backdrop clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:331:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should close modal when backdrop clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:331:17)

  ‚óè ChatInterface ‚Ä∫ External prompts ‚Ä∫ should not process same external prompt twice

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 37

      401 |       // Should not call fetch again
      402 |       await new Promise((resolve) => setTimeout(resolve, 100));
    > 403 |       expect(global.fetch).toHaveBeenCalledTimes(1);
          |                            ^
      404 |     });
      405 |
      406 |     it('should bypass PII detection for external prompts', async () => {

      at Object.toHaveBeenCalledTimes (__tests__/components/custom/chat/ChatInterface.test.tsx:403:28)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should call onContextPanelChange when analytics detected

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162565024_e0oad8[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162565024_e0oad8[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Show me analytics data"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      451 |
      452 |       await waitFor(() => {
    > 453 |         expect(mockOnContextPanelChange).toHaveBeenCalled();
          |                                          ^
      454 |       });
      455 |     });
      456 |

      at toHaveBeenCalled (__tests__/components/custom/chat/ChatInterface.test.tsx:453:42)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should call onContextPanelChange when analytics detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:450:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should call onContextPanelChange when analytics detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:450:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should call onContextPanelChange when analytics detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:450:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route analytics queries to analytics chat API

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/analytics/chat", Any<Object>

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162566030_x2tk46[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162566030_x2tk46[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"analytics query"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      476 |
      477 |       await waitFor(() => {
    > 478 |         expect(global.fetch).toHaveBeenCalledWith(
          |                              ^
      479 |           '/api/analytics/chat',
      480 |           expect.any(Object)
      481 |         );

      at toHaveBeenCalledWith (__tests__/components/custom/chat/ChatInterface.test.tsx:478:30)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route analytics queries to analytics chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:475:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route analytics queries to analytics chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:475:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route analytics queries to analytics chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:475:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route non-analytics queries to general chat API

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/chat", Any<Object>

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162567039_9f0srf[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162567039_9f0srf[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"General question"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      498 |
      499 |       await waitFor(() => {
    > 500 |         expect(global.fetch).toHaveBeenCalledWith(
          |                              ^
      501 |           '/api/chat',
      502 |           expect.any(Object)
      503 |         );

      at toHaveBeenCalledWith (__tests__/components/custom/chat/ChatInterface.test.tsx:500:30)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route non-analytics queries to general chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:497:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route non-analytics queries to general chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:497:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route non-analytics queries to general chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:497:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle API error gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162568074_f2wrnq[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162568074_f2wrnq[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      593 |
      594 |       await waitFor(() => {
    > 595 |         expect(consoleSpy).toHaveBeenCalled();
          |                            ^
      596 |       });
      597 |
      598 |       consoleSpy.mockRestore();

      at toHaveBeenCalled (__tests__/components/custom/chat/ChatInterface.test.tsx:595:28)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle API error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:592:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle API error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:592:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle API error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:592:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle network error gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162569081_g54gyj[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162569081_g54gyj[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      613 |
      614 |       await waitFor(() => {
    > 615 |         expect(consoleSpy).toHaveBeenCalled();
          |                            ^
      616 |       });
      617 |
      618 |       consoleSpy.mockRestore();

      at toHaveBeenCalled (__tests__/components/custom/chat/ChatInterface.test.tsx:615:28)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle network error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:612:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle network error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:612:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle network error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:612:17)

  ‚óè ChatInterface ‚Ä∫ Typing indicator ‚Ä∫ should show typing indicator while waiting for response

    expect(element).toBeDisabled()

    Received element is not disabled:
      <button data-testid="send-button" />

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162570091_2z7q8f[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162570091_2z7q8f[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      639 |       await waitFor(() => {
      640 |         // Input should be disabled while typing
    > 641 |         expect(sendButton).toBeDisabled();
          |                            ^
      642 |       });
      643 |
      644 |       resolveResponse({

      at toBeDisabled (__tests__/components/custom/chat/ChatInterface.test.tsx:641:28)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Typing indicator ‚Ä∫ should show typing indicator while waiting for response

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:637:17)

  ‚óè ChatInterface ‚Ä∫ Typing indicator ‚Ä∫ should show typing indicator while waiting for response

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:637:17)

  ‚óè ChatInterface ‚Ä∫ Typing indicator ‚Ä∫ should show typing indicator while waiting for response

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:637:17)

Summary of all failing tests
FAIL __tests__/performance/bundle-performance.test.ts
  ‚óè Bundle Performance ‚Ä∫ Bundle Size Budgets ‚Ä∫ should keep main bundle under 150KB

    expect(received).toBeLessThan(expected)

    Expected: < 150
    Received:   5895.09375

      38 |         const sizeKB = stats.size / 1024;
      39 |
    > 40 |         expect(sizeKB).toBeLessThan(150);
         |                        ^
      41 |       });
      42 |     });
      43 |

      at toBeLessThan (__tests__/performance/bundle-performance.test.ts:40:24)
          at Array.forEach (<anonymous>)
      at Object.forEach (__tests__/performance/bundle-performance.test.ts:36:18)

  ‚óè Bundle Performance ‚Ä∫ Bundle Size Budgets ‚Ä∫ should keep framework bundle under 200KB

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      47 |       );
      48 |
    > 49 |       expect(frameworkChunks.length).toBeGreaterThan(0);
         |                                      ^
      50 |
      51 |       frameworkChunks.forEach(chunk => {
      52 |         const stats = fs.statSync(path.join(chunksPath, chunk));

      at Object.toBeGreaterThan (__tests__/performance/bundle-performance.test.ts:49:38)

  ‚óè Bundle Performance ‚Ä∫ Lazy Loading Verification ‚Ä∫ should create separate chunks for lazy loaded panels

    expect(received).toBeGreaterThan(expected)

    Expected: > 15
    Received:   13

      72 |       // After lazy loading implementation, we should have multiple chunks
      73 |       // (exact chunk numbers vary by build, but should be >15 with lazy loading)
    > 74 |       expect(allChunks.length).toBeGreaterThan(15);
         |                                ^
      75 |     });
      76 |
      77 |     it('should not include recharts in any bundle (removed dependency)', () => {

      at Object.toBeGreaterThan (__tests__/performance/bundle-performance.test.ts:74:32)

FAIL __tests__/lib/monitoring.test.ts
  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should initialize without errors

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should initialize without errors

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should not throw when PerformanceObserver is not available

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should not throw when PerformanceObserver is not available

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should setup error event listeners

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ initMonitoring ‚Ä∫ should setup error event listeners

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should log metrics in development mode

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should log metrics in development mode

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should send metrics to API in production mode

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should send metrics to API in production mode

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should handle fetch errors silently

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ reportCustomMetric ‚Ä∫ should handle fetch errors silently

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ Error Tracking ‚Ä∫ should capture unhandled errors

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ Error Tracking ‚Ä∫ should capture unhandled errors

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

  ‚óè Performance Monitoring System ‚Ä∫ Error Tracking ‚Ä∫ should capture unhandled promise rejections

    Property `fetch` does not exist in the provided object

      14 |   beforeEach(() => {
      15 |     // Mock fetch
    > 16 |     fetchSpy = jest.spyOn(global, 'fetch').mockResolvedValue({
         |                     ^
      17 |       ok: true,
      18 |       json: async () => ({ success: true }),
      19 |     } as Response);

      at ModuleMocker.spyOn (../node_modules/jest-mock/build/index.js:593:13)
      at Object.spyOn (__tests__/lib/monitoring.test.ts:16:21)

  ‚óè Performance Monitoring System ‚Ä∫ Error Tracking ‚Ä∫ should capture unhandled promise rejections

    TypeError: Cannot read properties of undefined (reading 'mockRestore')

      34 |
      35 |   afterEach(() => {
    > 36 |     fetchSpy.mockRestore();
         |              ^
      37 |     consoleLogSpy.mockRestore();
      38 |     consoleErrorSpy.mockRestore();
      39 |     jest.clearAllMocks();

      at Object.mockRestore (__tests__/lib/monitoring.test.ts:36:14)

FAIL lib/analytics/__tests__/performance-calculator.test.ts
  ‚óè Performance Calculator ‚Ä∫ calculateDepartmentStats ‚Ä∫ should calculate average compensation across department

    expect(received).toBeCloseTo(expected, precision)

    Expected: 0.3
    Received: 0.24444444444444446

    Expected precision:    1
    Expected difference: < 0.05
    Received difference:   0.055555555555555525

      124 |       expect(stats.avgCompensation).toBe(100000);
      125 |       expect(stats.avgTenure).toBe((2 + 5 + 3) / 3);
    > 126 |       expect(stats.promotionRate).toBeCloseTo(0.3, 1);
          |                                   ^
      127 |     });
      128 |
      129 |     it('should handle empty employee list', () => {

      at Object.toBeCloseTo (lib/analytics/__tests__/performance-calculator.test.ts:126:35)

  ‚óè Performance Calculator ‚Ä∫ calculateBatchRatings ‚Ä∫ should calculate ratings for all employees grouped by department

    expect(received).toBeGreaterThan(expected)

    Expected: > 3
    Received:   3

      154 |       const eng1 = ratings.get('1')!;
      155 |       const eng2 = ratings.get('2')!;
    > 156 |       expect(eng1.ai_performance_score).toBeGreaterThan(eng2.ai_performance_score);
          |                                         ^
      157 |     });
      158 |   });
      159 |

      at Object.toBeGreaterThan (lib/analytics/__tests__/performance-calculator.test.ts:156:41)

FAIL lib/workflows/__tests__/detection.test.ts
  ‚óè Workflow Detection ‚Ä∫ HIRING workflow detection ‚Ä∫ should detect headcount planning queries

    expect(received).toBe(expected) // Object.is equality

    Expected: "hiring"
    Received: "analytics"

      82 |         const context = buildDetectionContext(message);
      83 |         const result = detectWorkflow(context);
    > 84 |         expect(result.workflowId).toBe('hiring');
         |                                   ^
      85 |         expect(result.confidence).toBeGreaterThanOrEqual(75);
      86 |       });
      87 |     });

      at toBe (lib/workflows/__tests__/detection.test.ts:84:35)
          at Array.forEach (<anonymous>)
      at Object.forEach (lib/workflows/__tests__/detection.test.ts:81:17)

  ‚óè Workflow Detection ‚Ä∫ ANALYTICS workflow detection ‚Ä∫ should detect headcount queries

    expect(received).toBe(expected) // Object.is equality

    Expected: "analytics"
    Received: "general"

      174 |         const context = buildDetectionContext(message);
      175 |         const result = detectWorkflow(context);
    > 176 |         expect(result.workflowId).toBe('analytics');
          |                                   ^
      177 |         expect(result.confidence).toBeGreaterThanOrEqual(75);
      178 |       });
      179 |     });

      at toBe (lib/workflows/__tests__/detection.test.ts:176:35)
          at Array.forEach (<anonymous>)
      at Object.forEach (lib/workflows/__tests__/detection.test.ts:173:17)

  ‚óè Workflow Detection ‚Ä∫ ANALYTICS workflow detection ‚Ä∫ should detect turnover queries

    expect(received).toBe(expected) // Object.is equality

    Expected: "analytics"
    Received: "offboarding"

      190 |         const context = buildDetectionContext(message);
      191 |         const result = detectWorkflow(context);
    > 192 |         expect(result.workflowId).toBe('analytics');
          |                                   ^
      193 |         expect(result.confidence).toBeGreaterThanOrEqual(75);
      194 |       });
      195 |     });

      at toBe (lib/workflows/__tests__/detection.test.ts:192:35)
          at Array.forEach (<anonymous>)
      at Object.forEach (lib/workflows/__tests__/detection.test.ts:189:17)

  ‚óè Workflow Detection ‚Ä∫ ANALYTICS workflow detection ‚Ä∫ should detect diversity queries

    expect(received).toBe(expected) // Object.is equality

    Expected: "analytics"
    Received: "general"

      206 |         const context = buildDetectionContext(message);
      207 |         const result = detectWorkflow(context);
    > 208 |         expect(result.workflowId).toBe('analytics');
          |                                   ^
      209 |         expect(result.confidence).toBeGreaterThanOrEqual(75);
      210 |       });
      211 |     });

      at toBe (lib/workflows/__tests__/detection.test.ts:208:35)
          at Array.forEach (<anonymous>)
      at Object.forEach (lib/workflows/__tests__/detection.test.ts:205:17)

  ‚óè Workflow Detection ‚Ä∫ Conversation continuity boost ‚Ä∫ should boost current workflow when conversation continues

    expect(received).toBeGreaterThan(expected)

    Expected: > 100
    Received:   100

      327 |
      328 |       expect(resultWith.workflowId).toBe('hiring');
    > 329 |       expect(resultWith.confidence).toBeGreaterThan(resultWithout.confidence);
          |                                     ^
      330 |     });
      331 |   });
      332 |

      at Object.toBeGreaterThan (lib/workflows/__tests__/detection.test.ts:329:37)

  ‚óè Workflow Detection ‚Ä∫ Helper detection functions ‚Ä∫ detectEmployeeMention ‚Ä∫ should detect employee names

    expect(received).toBe(expected) // Object.is equality

    Expected: "Sarah Johnson"
    Received: "About Sarah"

      339 |       it('should detect employee names', () => {
      340 |         expect(detectEmployeeMention('Create a review for John Smith')).toBe('John Smith');
    > 341 |         expect(detectEmployeeMention('About Sarah Johnson')).toBe('Sarah Johnson');
          |                                                              ^
      342 |         expect(detectEmployeeMention("John's performance review")).toBe('John');
      343 |       });
      344 |

      at Object.toBe (lib/workflows/__tests__/detection.test.ts:341:62)

FAIL __tests__/components/custom/chat/ChatHeader.test.tsx
  ‚óè ChatHeader ‚Ä∫ Edge cases ‚Ä∫ should handle conversation ID with newlines

    TestingLibraryElementError: Unable to find an element with the text: conv_123 abc (normalized from 'conv_123
    abc'). This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center justify-between mb-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"text-xs text-secondary/50 font-mono"[39m
          [36m>[39m
            [0mconv_123
    abc[0m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Start a new chat"[39m
            [33mclass[39m=[32m"flex items-center gap-2 px-3 py-1.5 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-sm font-medium transition-premium"[39m
            [33mwhilehover[39m=[32m"[object Object]"[39m
            [33mwhiletap[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-rotate-ccw w-4 h-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 3v5h5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<span>[39m
              [0mReset chat[0m
            [36m</span>[39m
          [36m</button>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      261 |       render(<ChatHeader conversationId={idWithNewline} onReset={mockOnReset} />);
      262 |
    > 263 |       expect(screen.getByText(idWithNewline)).toBeInTheDocument();
          |                     ^
      264 |     });
      265 |   });
      266 |

      at Object.getElementError (../node_modules/@testing-library/dom/dist/config.js:37:19)
      at ../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at ../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at ../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/custom/chat/ChatHeader.test.tsx:263:21)

FAIL __tests__/components/custom/chat/MessageActions.test.tsx
  ‚óè MessageActions ‚Ä∫ Export to Google Docs button ‚Ä∫ should re-enable button after failed export

    Export failed

      371 |
      372 |     it('should re-enable button after failed export', async () => {
    > 373 |       mockOnExportToGoogleDocs.mockRejectedValue(new Error('Export failed'));
          |                                                  ^
      374 |       const message = createMessage();
      375 |
      376 |       render(

      at Object.<anonymous> (__tests__/components/custom/chat/MessageActions.test.tsx:373:50)

  ‚óè MessageActions ‚Ä∫ Export to Google Docs button ‚Ä∫ should re-enable button after failed export

    Export failed

      371 |
      372 |     it('should re-enable button after failed export', async () => {
    > 373 |       mockOnExportToGoogleDocs.mockRejectedValue(new Error('Export failed'));
          |                                                  ^
      374 |       const message = createMessage();
      375 |
      376 |       render(

      at Object.<anonymous> (__tests__/components/custom/chat/MessageActions.test.tsx:373:50)

FAIL __tests__/performance/chat-interface.test.tsx
  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should render ChatInput component

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:82:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should call onChange when typing

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:100:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should disable send button when input is empty

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:120:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should enable send button when input has value

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:138:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should call onSend when send button clicked

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:156:13)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Phase 2: ChatInput Component Extraction ‚Ä∫ should not re-render when parent re-renders with same props

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:189:34)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Performance Regression Tests ‚Ä∫ ChatInput should have stable onChange handler

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:537:34)

  ‚óè ChatInterface Performance Optimizations ‚Ä∫ Integration Tests ‚Ä∫ ChatInput + ActionButtons should work together

    ReferenceError: isDisabled is not defined

      81 |           aria-label="Chat message input"
      82 |           aria-describedby="chat-input-help"
    > 83 |           disabled={isDisabled}
         |                     ^
      84 |           className="flex-1 bg-card border border-border rounded-xl px-4 py-3 outline-none focus:border-violet focus:ring-2 focus:ring-violet/30 transition-premium placeholder-secondary font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      85 |         />
      86 |         <motion.button

      at isDisabled (components/custom/chat/ChatInput.tsx:83:21)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (../node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at updateSimpleMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19454:10)
      at updateMemoComponent (../node_modules/react-dom/cjs/react-dom.development.js:19303:14)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21712:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/performance/chat-interface.test.tsx:598:13)

FAIL __tests__/components/custom/chat/MessageContent.test.tsx
  ‚óè Test suite failed to run

    Cannot find module '../WorkflowProgress' from '__tests__/components/custom/chat/MessageContent.test.tsx'

      19 | }));
      20 |
    > 21 | jest.mock('../WorkflowProgress', () => ({
         |      ^
      22 |   WorkflowProgress: ({ workflowId, state }: any) => (
      23 |     <div data-testid="workflow-progress">
      24 |       {workflowId} - {state.progress}%

      at Resolver._throwModNotFoundError (../node_modules/jest-resolve/build/index.js:863:11)
      at Object.mock (__tests__/components/custom/chat/MessageContent.test.tsx:21:6)

FAIL __tests__/accessibility/components.test.tsx
  ‚óè Accessibility Tests - Core Components ‚Ä∫ ChatInterface Component ‚Ä∫ should have no axe violations

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at ChatInterfaceInner (components/custom/ChatInterface.tsx:46:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:18:35)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ ChatInterface Component ‚Ä∫ should have proper form labels

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at ChatInterfaceInner (components/custom/ChatInterface.tsx:46:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:24:40)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ ChatInterface Component ‚Ä∫ should have accessible send button

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at ChatInterfaceInner (components/custom/ChatInterface.tsx:46:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:29:35)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ SmartFileUpload Component ‚Ä∫ should have no axe violations

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at SmartFileUpload (components/custom/SmartFileUpload.tsx:34:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:81:35)

  ‚óè Accessibility Tests - Core Components ‚Ä∫ SmartFileUpload Component ‚Ä∫ should have accessible file input

    useAuth must be used within an AuthProvider

      215 |   const context = useContext(AuthContext);
      216 |   if (context === undefined) {
    > 217 |     throw new Error('useAuth must be used within an AuthProvider');
          |           ^
      218 |   }
      219 |   return context;
      220 | }

      at useAuth (lib/auth/auth-context.tsx:217:11)
      at SmartFileUpload (components/custom/SmartFileUpload.tsx:34:37)
      at renderWithHooks (../node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at mountIndeterminateComponent (../node_modules/react-dom/cjs/react-dom.development.js:20103:13)
      at beginWork (../node_modules/react-dom/cjs/react-dom.development.js:21626:16)
      at beginWork$1 (../node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (../node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (../node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (../node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (../node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (../node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (../node_modules/react/cjs/react.development.js:2667:24)
      at act (../node_modules/react/cjs/react.development.js:2582:11)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (../node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (../node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:87:40)

  ‚óè Accessibility Tests - Common Patterns ‚Ä∫ Focus Management ‚Ä∫ should have visible focus indicators

    unknown rule `focus-visible` in options.rules

      111 |         <button className="focus-visible:outline focus-visible:outline-2">Test Button</button>
      112 |       );
    > 113 |       const results = await axe(container, {
          |                                ^
      114 |         rules: {
      115 |           'focus-visible': { enabled: true },
      116 |         },

      at ../node_modules/jest-axe/node_modules/axe-core/axe.js:28418:23
          at Array.forEach (<anonymous>)
      at ../node_modules/jest-axe/index.js:79:15
      at axe (../node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/components.test.tsx:113:32)

FAIL __tests__/api/analytics.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      17 | export async function POST(request: NextRequest) {
      18 |   let metric: any;
    > 19 |   try {
         |        ^
      20 |     metric = await request.json();
      21 |
      22 |     // Validate metric structure

      at Object.Request (../node_modules/next/src/server/web/spec-extension/request.ts:15:34)
      at Object.<anonymous> (../node_modules/next/server.js:2:16)
      at Object.<anonymous> (app/api/analytics/metrics/route.ts:19:17)
      at Object.<anonymous> (__tests__/api/analytics.test.ts:9:16)

FAIL __tests__/components/custom/chat/ChatInterface.test.tsx (13.888 s)
  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when send button clicked

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/chat", ObjectContaining {"headers": ObjectContaining {"Authorization": "Bearer test-token", "Content-Type": "application/json"}, "method": "POST"}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162557759_mkpvw[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162557759_mkpvw[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Hello"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      187 |
      188 |       await waitFor(() => {
    > 189 |         expect(global.fetch).toHaveBeenCalledWith(
          |                              ^
      190 |           '/api/chat',
      191 |           expect.objectContaining({
      192 |             method: 'POST',

      at toHaveBeenCalledWith (__tests__/components/custom/chat/ChatInterface.test.tsx:189:30)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when send button clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:186:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when send button clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:186:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when send button clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:186:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should send message when Enter key pressed

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162558826_zrbobi[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162558826_zrbobi[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test message"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      217 |
      218 |       await waitFor(() => {
    > 219 |         expect(global.fetch).toHaveBeenCalled();
          |                              ^
      220 |       });
      221 |     });
      222 |

      at toHaveBeenCalled (__tests__/components/custom/chat/ChatInterface.test.tsx:219:30)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should clear input after sending

    expect(received).toBe(expected) // Object.is equality

    Expected: ""
    Received: "Test"

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162559839_0whf6[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162559839_0whf6[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      238 |
      239 |       await waitFor(() => {
    > 240 |         expect(input.value).toBe('');
          |                             ^
      241 |       });
      242 |     });
      243 |

      at toBe (__tests__/components/custom/chat/ChatInterface.test.tsx:240:29)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should clear input after sending

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:237:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should clear input after sending

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:237:17)

  ‚óè ChatInterface ‚Ä∫ Message sending ‚Ä∫ should clear input after sending

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:237:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    Unable to find an element by: [data-testid="pii-warning-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33manimate[39m=[32m"[object Object]"[39m
          [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
          [33minitial[39m=[32m"[object Object]"[39m
          [33mtransition[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 8V4H8"[39m
                      [36m/>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"12"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"16"[39m
                        [33mx[39m=[32m"4"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 13v2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 13v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<h2[39m
                      [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                    [36m>[39m
                      [0mChief People Officer[0m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 2v4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M22 4h-4"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"4"[39m
                          [33mcy[39m=[32m"20"[39m
                          [33mr[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</h2>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                    [36m>[39m
                      [0m‚ÄúMore People, More Problems‚Äù[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mdata-testid[39m=[32m"chat-header"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mconv_1763162560860_lnv75fo[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mdata-testid[39m=[32m"reset-button"[39m
                    [36m>[39m
                      [0mReset[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"message-list"[39m
              [36m>[39m
                [0mMessages for [0m
                [0mconv_1763162560860_lnv75fo[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"suggestion-cards"[39m
            [36m>[39m
              [36m<button>[39m
                [0mGenerate an offer[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mCreate a PIP[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"chat-input"[39m
            [36m>[39m
              [36m<input[39m
                [33mdata-testid[39m=[32m"message-input"[39m
                [33mvalue[39m=[32m"My SSN is 123-45-6789"[39m
              [36m/>[39m
              [36m<button[39m
                [33mdata-testid[39m=[32m"send-button"[39m
              [36m>[39m
                [0mSend[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      265 |       fireEvent.click(sendButton);
      266 |
    > 267 |       await waitFor(() => {
          |                    ^
      268 |         expect(screen.getByTestId('pii-warning-modal')).toBeInTheDocument();
      269 |       });
      270 |

      at waitForWrapper (../node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatInterface.test.tsx:267:20)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:251:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:265:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:251:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:265:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:251:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should show PII warning when sensitive data detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:265:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should allow editing message from PII warning

    Unable to find an element by: [data-testid="pii-warning-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33manimate[39m=[32m"[object Object]"[39m
          [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
          [33minitial[39m=[32m"[object Object]"[39m
          [33mtransition[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 8V4H8"[39m
                      [36m/>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"12"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"16"[39m
                        [33mx[39m=[32m"4"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 13v2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 13v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<h2[39m
                      [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                    [36m>[39m
                      [0mChief People Officer[0m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 2v4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M22 4h-4"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"4"[39m
                          [33mcy[39m=[32m"20"[39m
                          [33mr[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</h2>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                    [36m>[39m
                      [0m‚ÄúMore People, More Problems‚Äù[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mdata-testid[39m=[32m"chat-header"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mconv_1763162561873_u58mxn[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mdata-testid[39m=[32m"reset-button"[39m
                    [36m>[39m
                      [0mReset[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"message-list"[39m
              [36m>[39m
                [0mMessages for [0m
                [0mconv_1763162561873_u58mxn[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"suggestion-cards"[39m
            [36m>[39m
              [36m<button>[39m
                [0mGenerate an offer[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mCreate a PIP[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"chat-input"[39m
            [36m>[39m
              [36m<input[39m
                [33mdata-testid[39m=[32m"message-input"[39m
                [33mvalue[39m=[32m"Contains SSN data"[39m
              [36m/>[39m
              [36m<button[39m
                [33mdata-testid[39m=[32m"send-button"[39m
              [36m>[39m
                [0mSend[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      281 |       fireEvent.click(sendButton);
      282 |
    > 283 |       await waitFor(() => {
          |                    ^
      284 |         expect(screen.getByTestId('pii-warning-modal')).toBeInTheDocument();
      285 |       });
      286 |

      at waitForWrapper (../node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatInterface.test.tsx:283:20)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should allow editing message from PII warning

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:281:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should allow editing message from PII warning

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:281:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should allow editing message from PII warning

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:281:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should send anyway when user confirms

    Unable to find an element by: [data-testid="pii-warning-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33manimate[39m=[32m"[object Object]"[39m
          [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
          [33minitial[39m=[32m"[object Object]"[39m
          [33mtransition[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 8V4H8"[39m
                      [36m/>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"12"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"16"[39m
                        [33mx[39m=[32m"4"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 13v2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 13v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<h2[39m
                      [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                    [36m>[39m
                      [0mChief People Officer[0m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 2v4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M22 4h-4"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"4"[39m
                          [33mcy[39m=[32m"20"[39m
                          [33mr[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</h2>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                    [36m>[39m
                      [0m‚ÄúMore People, More Problems‚Äù[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mdata-testid[39m=[32m"chat-header"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mconv_1763162562886_o02van[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mdata-testid[39m=[32m"reset-button"[39m
                    [36m>[39m
                      [0mReset[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"message-list"[39m
              [36m>[39m
                [0mMessages for [0m
                [0mconv_1763162562886_o02van[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"suggestion-cards"[39m
            [36m>[39m
              [36m<button>[39m
                [0mGenerate an offer[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mCreate a PIP[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"chat-input"[39m
            [36m>[39m
              [36m<input[39m
                [33mdata-testid[39m=[32m"message-input"[39m
                [33mvalue[39m=[32m"Contains SSN data"[39m
              [36m/>[39m
              [36m<button[39m
                [33mdata-testid[39m=[32m"send-button"[39m
              [36m>[39m
                [0mSend[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      310 |       fireEvent.click(sendButton);
      311 |
    > 312 |       await waitFor(() => {
          |                    ^
      313 |         expect(screen.getByTestId('pii-warning-modal')).toBeInTheDocument();
      314 |       });
      315 |

      at waitForWrapper (../node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatInterface.test.tsx:312:20)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should send anyway when user confirms

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:310:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should send anyway when user confirms

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:310:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should send anyway when user confirms

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:310:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should close modal when backdrop clicked

    Unable to find an element by: [data-testid="pii-warning-modal"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33manimate[39m=[32m"[object Object]"[39m
          [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
          [33minitial[39m=[32m"[object Object]"[39m
          [33mtransition[39m=[32m"[object Object]"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
          [36m/>[39m
          [36m<div[39m
            [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 8V4H8"[39m
                      [36m/>[39m
                      [36m<rect[39m
                        [33mheight[39m=[32m"12"[39m
                        [33mrx[39m=[32m"2"[39m
                        [33mwidth[39m=[32m"16"[39m
                        [33mx[39m=[32m"4"[39m
                        [33my[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 14h2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M15 13v2"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M9 13v2"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div>[39m
                    [36m<h2[39m
                      [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                    [36m>[39m
                      [0mChief People Officer[0m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 2v4"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M22 4h-4"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"4"[39m
                          [33mcy[39m=[32m"20"[39m
                          [33mr[39m=[32m"2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</h2>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                    [36m>[39m
                      [0m‚ÄúMore People, More Problems‚Äù[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mdata-testid[39m=[32m"chat-header"[39m
                  [36m>[39m
                    [36m<span>[39m
                      [0mconv_1763162563898_ux1gvl[0m
                    [36m</span>[39m
                    [36m<button[39m
                      [33mdata-testid[39m=[32m"reset-button"[39m
                    [36m>[39m
                      [0mReset[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"message-list"[39m
              [36m>[39m
                [0mMessages for [0m
                [0mconv_1763162563898_ux1gvl[0m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"suggestion-cards"[39m
            [36m>[39m
              [36m<button>[39m
                [0mGenerate an offer[0m
              [36m</button>[39m
              [36m<button>[39m
                [0mCreate a PIP[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mdata-testid[39m=[32m"chat-input"[39m
            [36m>[39m
              [36m<input[39m
                [33mdata-testid[39m=[32m"message-input"[39m
                [33mvalue[39m=[32m"Contains SSN"[39m
              [36m/>[39m
              [36m<button[39m
                [33mdata-testid[39m=[32m"send-button"[39m
              [36m>[39m
                [0mSend[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      331 |       fireEvent.click(sendButton);
      332 |
    > 333 |       await waitFor(() => {
          |                    ^
      334 |         expect(screen.getByTestId('pii-warning-modal')).toBeInTheDocument();
      335 |       });
      336 |

      at waitForWrapper (../node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/custom/chat/ChatInterface.test.tsx:333:20)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should close modal when backdrop clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:331:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should close modal when backdrop clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:331:17)

  ‚óè ChatInterface ‚Ä∫ PII detection ‚Ä∫ should close modal when backdrop clicked

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:331:17)

  ‚óè ChatInterface ‚Ä∫ External prompts ‚Ä∫ should not process same external prompt twice

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 37

      401 |       // Should not call fetch again
      402 |       await new Promise((resolve) => setTimeout(resolve, 100));
    > 403 |       expect(global.fetch).toHaveBeenCalledTimes(1);
          |                            ^
      404 |     });
      405 |
      406 |     it('should bypass PII detection for external prompts', async () => {

      at Object.toHaveBeenCalledTimes (__tests__/components/custom/chat/ChatInterface.test.tsx:403:28)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should call onContextPanelChange when analytics detected

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162565024_e0oad8[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162565024_e0oad8[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Show me analytics data"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      451 |
      452 |       await waitFor(() => {
    > 453 |         expect(mockOnContextPanelChange).toHaveBeenCalled();
          |                                          ^
      454 |       });
      455 |     });
      456 |

      at toHaveBeenCalled (__tests__/components/custom/chat/ChatInterface.test.tsx:453:42)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should call onContextPanelChange when analytics detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:450:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should call onContextPanelChange when analytics detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:450:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should call onContextPanelChange when analytics detected

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:450:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route analytics queries to analytics chat API

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/analytics/chat", Any<Object>

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162566030_x2tk46[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162566030_x2tk46[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"analytics query"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      476 |
      477 |       await waitFor(() => {
    > 478 |         expect(global.fetch).toHaveBeenCalledWith(
          |                              ^
      479 |           '/api/analytics/chat',
      480 |           expect.any(Object)
      481 |         );

      at toHaveBeenCalledWith (__tests__/components/custom/chat/ChatInterface.test.tsx:478:30)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route analytics queries to analytics chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:475:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route analytics queries to analytics chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:475:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route analytics queries to analytics chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:475:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route non-analytics queries to general chat API

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/chat", Any<Object>

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162567039_9f0srf[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162567039_9f0srf[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"General question"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      498 |
      499 |       await waitFor(() => {
    > 500 |         expect(global.fetch).toHaveBeenCalledWith(
          |                              ^
      501 |           '/api/chat',
      502 |           expect.any(Object)
      503 |         );

      at toHaveBeenCalledWith (__tests__/components/custom/chat/ChatInterface.test.tsx:500:30)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route non-analytics queries to general chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:497:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route non-analytics queries to general chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:497:17)

  ‚óè ChatInterface ‚Ä∫ Context panel integration ‚Ä∫ should route non-analytics queries to general chat API

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:497:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle API error gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162568074_f2wrnq[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162568074_f2wrnq[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      593 |
      594 |       await waitFor(() => {
    > 595 |         expect(consoleSpy).toHaveBeenCalled();
          |                            ^
      596 |       });
      597 |
      598 |       consoleSpy.mockRestore();

      at toHaveBeenCalled (__tests__/components/custom/chat/ChatInterface.test.tsx:595:28)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle API error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:592:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle API error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:592:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle API error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:592:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle network error gracefully

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162569081_g54gyj[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162569081_g54gyj[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      613 |
      614 |       await waitFor(() => {
    > 615 |         expect(consoleSpy).toHaveBeenCalled();
          |                            ^
      616 |       });
      617 |
      618 |       consoleSpy.mockRestore();

      at toHaveBeenCalled (__tests__/components/custom/chat/ChatInterface.test.tsx:615:28)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle network error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:612:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle network error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:612:17)

  ‚óè ChatInterface ‚Ä∫ Error handling ‚Ä∫ should handle network error gracefully

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:612:17)

  ‚óè ChatInterface ‚Ä∫ Typing indicator ‚Ä∫ should show typing indicator while waiting for response

    expect(element).toBeDisabled()

    Received element is not disabled:
      <button data-testid="send-button" />

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"relative group h-full flex flex-col"[39m
            [33minitial[39m=[32m"[object Object]"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-violet/10 via-violet-light/10 to-violet/5 rounded-3xl blur-2xl group-hover:blur-3xl transition-premium opacity-60"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative backdrop-blur-2xl bg-card border border-border rounded-3xl flex flex-col h-full overflow-hidden hover:border-violet/50 hover:shadow-panel-hover transition-premium"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-6 border-b border-border bg-gradient-to-r from-violet/10 to-violet-light/10"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-between"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-12 h-12 rounded-xl bg-gradient-to-br from-violet to-violet-light flex items-center justify-center shadow-glow-accent"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-bot w-7 h-7"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M12 8V4H8"[39m
                        [36m/>[39m
                        [36m<rect[39m
                          [33mheight[39m=[32m"12"[39m
                          [33mrx[39m=[32m"2"[39m
                          [33mwidth[39m=[32m"16"[39m
                          [33mx[39m=[32m"4"[39m
                          [33my[39m=[32m"8"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M2 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 14h2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M15 13v2"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M9 13v2"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                    [36m</div>[39m
                    [36m<div>[39m
                      [36m<h2[39m
                        [33mclass[39m=[32m"text-xl flex items-center gap-2 font-semibold"[39m
                      [36m>[39m
                        [0mChief People Officer[0m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-sparkles w-5 h-5 text-warning"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M20 2v4"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M22 4h-4"[39m
                          [36m/>[39m
                          [36m<circle[39m
                            [33mcx[39m=[32m"4"[39m
                            [33mcy[39m=[32m"20"[39m
                            [33mr[39m=[32m"2"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</h2>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm text-secondary font-medium"[39m
                      [36m>[39m
                        [0m‚ÄúMore People, More Problems‚Äù[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mdata-testid[39m=[32m"chat-header"[39m
                    [36m>[39m
                      [36m<span>[39m
                        [0mconv_1763162570091_2z7q8f[0m
                      [36m</span>[39m
                      [36m<button[39m
                        [33mdata-testid[39m=[32m"reset-button"[39m
                      [36m>[39m
                        [0mReset[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 overflow-y-auto"[39m
              [36m>[39m
                [36m<div[39m
                  [33mdata-testid[39m=[32m"message-list"[39m
                [36m>[39m
                  [0mMessages for [0m
                  [0mconv_1763162570091_2z7q8f[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"suggestion-cards"[39m
              [36m>[39m
                [36m<button>[39m
                  [0mGenerate an offer[0m
                [36m</button>[39m
                [36m<button>[39m
                  [0mCreate a PIP[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mdata-testid[39m=[32m"chat-input"[39m
              [36m>[39m
                [36m<input[39m
                  [33mdata-testid[39m=[32m"message-input"[39m
                  [33mvalue[39m=[32m"Test"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mdata-testid[39m=[32m"send-button"[39m
                [36m>[39m
                  [0mSend[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      639 |       await waitFor(() => {
      640 |         // Input should be disabled while typing
    > 641 |         expect(sendButton).toBeDisabled();
          |                            ^
      642 |       });
      643 |
      644 |       resolveResponse({

      at toBeDisabled (__tests__/components/custom/chat/ChatInterface.test.tsx:641:28)
      at runWithExpensiveErrorDiagnosticsDisabled (../node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (../node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (../node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (../node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè ChatInterface ‚Ä∫ Typing indicator ‚Ä∫ should show typing indicator while waiting for response

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:637:17)

  ‚óè ChatInterface ‚Ä∫ Typing indicator ‚Ä∫ should show typing indicator while waiting for response

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:637:17)

  ‚óè ChatInterface ‚Ä∫ Typing indicator ‚Ä∫ should show typing indicator while waiting for response

    TypeError: text.includes is not a function

      24 | jest.mock('@/lib/pii-detector', () => ({
      25 |   detectSensitivePII: jest.fn((text: string) => ({
    > 26 |     detected: text.includes('SSN'),
         |                    ^
      27 |     types: text.includes('SSN') ? ['SSN'] : [],
      28 |     message: 'Sensitive data detected',
      29 |   })),

      at includes (__tests__/components/custom/chat/ChatInterface.test.tsx:26:20)
      at lib/hooks/usePIIDetection.ts:135:41
      at checkForPII (components/custom/ChatInterface.tsx:102:25)
      at HTMLUnknownElement.callCallback (../node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (../node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (../node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at invokeGuardedCallbackAndCatchFirstError (../node_modules/react-dom/cjs/react-dom.development.js:4291:25)
      at executeDispatch (../node_modules/react-dom/cjs/react-dom.development.js:9041:3)
      at processDispatchQueueItemsInOrder (../node_modules/react-dom/cjs/react-dom.development.js:9073:7)
      at processDispatchQueue (../node_modules/react-dom/cjs/react-dom.development.js:9086:5)
      at dispatchEventsForPlugins (../node_modules/react-dom/cjs/react-dom.development.js:9097:3)
      at ../node_modules/react-dom/cjs/react-dom.development.js:9288:12
      at batchedUpdates$1 (../node_modules/react-dom/cjs/react-dom.development.js:26179:12)
      at batchedUpdates (../node_modules/react-dom/cjs/react-dom.development.js:3991:12)
      at dispatchEventForPluginEventSystem (../node_modules/react-dom/cjs/react-dom.development.js:9287:3)
      at dispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay (../node_modules/react-dom/cjs/react-dom.development.js:6465:5)
      at dispatchEvent (../node_modules/react-dom/cjs/react-dom.development.js:6457:5)
      at dispatchDiscreteEvent (../node_modules/react-dom/cjs/react-dom.development.js:6430:5)
      at HTMLDivElement.callTheUserObjectsOperation (../node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLButtonElementImpl._dispatch (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLButtonElementImpl.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLButtonElement.dispatchEvent (../node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at ../node_modules/@testing-library/dom/dist/events.js:19:20
      at ../node_modules/@testing-library/react/dist/pure.js:108:16
      at ../node_modules/@testing-library/react/dist/act-compat.js:48:24
      at act (../node_modules/react/cjs/react.development.js:2512:16)
      at ../node_modules/@testing-library/react/dist/act-compat.js:47:25
      at Object.eventWrapper (../node_modules/@testing-library/react/dist/pure.js:107:28)
      at fireEvent (../node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (../node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (__tests__/components/custom/chat/ChatInterface.test.tsx:637:17)


Test Suites: 11 failed, 20 passed, 31 total
Tests:       49 failed, 626 passed, 675 total
Snapshots:   0 total
Time:        14.671 s
Ran all test suites.
npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/mattod/Desktop/HRSkills/webapp
npm error workspace hr-command-center@0.1.0
npm error location /Users/mattod/Desktop/HRSkills/webapp
npm error command failed
npm error command sh -c jest
